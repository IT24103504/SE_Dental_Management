<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SmileCare — Suppliers (Items)</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="app no-sidebar">
    <main class="main full">
        <header class="header">
            <h1>SmileCare — Supplier Items</h1>
            <div class="header-actions">
                <input id="searchInput" class="search" placeholder="Search by name or description..." />
                <select id="viewFilter" class="select">
                    <option value="all">All items</option>
                    <option value="low">Low stock (&lt;= 5)</option>
                    <option value="out">Out of stock (0)</option>
                </select>
                <select id="weekSelect" class="select">
                    <!-- Populated by JavaScript -->
                </select>
                <button id="addBtn" class="btn primary">+ Add Item</button>
            </div>
        </header>

        <section class="controls">
            <label>Sort by:
                <select id="sortSelect">
                    <option value="id:asc">ID ▲</option>
                    <option value="id:desc">ID ▼</option>
                    <option value="name:asc">Name ▲</option>
                    <option value="name:desc">Name ▼</option>
                    <option value="qty:asc">Quantity ▲</option>
                    <option value="qty:desc">Quantity ▼</option>
                </select>
            </label>
            <button id="exportCsv" class="btn">Export CSV</button>
        </section>

        <section class="table-wrap">
            <table id="itemsTable" class="items-table">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Quantity (Current Week)</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody id="itemsBody">
                <!-- rows injected by JS -->
                </tbody>
            </table>
        </section>
    </main>
</div>

<!-- Add / Edit Modal -->
<div id="modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-card">
        <header class="modal-header">
            <h2 id="modalTitle">Add Item</h2>
            <button id="closeModal" class="btn ghost">×</button>
        </header>
        <form id="itemForm" class="modal-body">
            <input type="hidden" id="itemId" />
            <label>
                Name
                <input id="itemName" required maxlength="100" />
            </label>
            <label>
                Description
                <input id="itemDescription" maxlength="255" />
            </label>
            <label>
                Quantity (Current Week)
                <input id="itemQuantity" type="number" min="0" value="0" required />
                <small>Current week: <span id="currentWeekDisplay"></span></small>
            </label>
            <div class="modal-actions">
                <button type="submit" class="btn primary">Save</button>
                <button type="button" id="cancelModal" class="btn">Cancel</button>
            </div>
        </form>
    </div>
</div>

<!-- Delete Confirm -->
<div id="confirm" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-card small">
        <div class="modal-body">
            <p id="confirmText">Are you sure you want to delete this item?</p>
            <div style="text-align:right">
                <button id="confirmYes" class="btn danger">Yes, Delete</button>
                <button id="confirmNo" class="btn">Cancel</button>
            </div>
        </div>
    </div>
</div>

<!-- Notification -->
<div id="notification" class="notification hidden"></div>

<script src="app.js"></script>
</body>
</html>